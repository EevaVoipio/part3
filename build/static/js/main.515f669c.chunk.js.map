{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Button.js","components/Persons.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Filter","searchName","handleSearchName","value","onChange","PersonForm","addPerson","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","Button","handleClick","text","onClick","Person","person","name","number","Persons","persons","handleDeletePerson","filter","toLowerCase","includes","map","key","id","bind","Notification","message","className","baseUrl","axios","get","then","response","data","personObject","post","delete","console","log","put","App","useState","setPersons","setNewName","setNewNumber","setSearchName","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","phoneBookService","event","target","preventDefault","some","window","confirm","find","changedPerson","setTimeout","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0NAWeA,EATA,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,iBAC5B,OACE,kDACqB,IACnB,2BAAOC,MAAOF,EAAYG,SAAUF,MCkB3BG,EAtBI,SAAC,GAMb,IALLC,EAKI,EALJA,UACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,cACAC,EAEI,EAFJA,UACAC,EACI,EADJA,gBAEA,OACE,0BAAMC,SAAUL,GACd,sCACQ,2BAAOH,MAAOI,EAASH,SAAUI,KAEzC,wCACU,2BAAOL,MAAOM,EAAWL,SAAUM,KAE7C,6BACE,4BAAQE,KAAK,UAAb,UCZOC,EAJA,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,KAC7B,OAAO,4BAAQC,QAASF,GAAcC,ICiBlCE,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAH,OACb,oCACGA,EAAOC,KADV,IACiBD,EAAOE,SAIXC,EAtBC,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,QAASrB,EAAqC,EAArCA,WAAYsB,EAAyB,EAAzBA,mBACtC,OAAOD,EACJE,QAAO,SAACN,GAAD,OACNA,EAAOC,KAAKM,cAAcC,SAASzB,EAAWwB,kBAE/CE,KAAI,SAACT,GAAD,OACH,yBAAKU,IAAKV,EAAOW,IACf,kBAAC,EAAD,CAAQX,OAAQA,IAChB,kBAAC,EAAD,CACEJ,YAAaS,EAAmBO,U,EAAWZ,EAAOW,GAAIX,EAAOC,MAC7DJ,KAAK,gBCLAgB,EAPM,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAASpB,EAAW,EAAXA,KAC/B,OAAgB,OAAZoB,EACK,KAEF,yBAAKC,UAAWrB,GAAOoB,I,gBCJ1BE,EAAU,eAsBD,EApBM,WACnB,OAAOC,IAAMC,IAAIF,GAASG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAmBzC,EAhBG,SAACC,GACjB,OAAOL,IAAMM,KAAKP,EAASM,GAAcH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAexD,EAZM,SAACV,GACpB,OAAOM,IACJO,OADI,UACMR,EADN,YACiBL,IACrBQ,MAAK,SAACC,GAAD,OAAcK,QAAQC,IAAIN,OASrB,EANW,SAACT,EAAIW,GAC7B,OAAOL,IACJU,IADI,UACGX,EADH,YACcL,GAAMW,GACxBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SC6GlBO,EA1HH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTzB,EADS,KACA0B,EADA,OAEcD,mBAAS,IAFvB,mBAETxC,EAFS,KAEA0C,EAFA,OAGkBF,mBAAS,IAH3B,mBAGTtC,EAHS,KAGEyC,EAHF,OAIoBH,mBAAS,IAJ7B,mBAIT9C,EAJS,KAIGkD,EAJH,OAKwBJ,mBAAS,MALjC,mBAKTK,EALS,KAKKC,EALL,OAM4BN,mBAAS,MANrC,mBAMTO,EANS,KAMOC,EANP,KAQhBC,qBAAU,WACRC,IAAgCpB,MAAK,SAACC,GACpCU,EAAWV,QAEZ,IAoFH,OACE,6BACE,yCACA,kBAAC,EAAD,CACEN,QAAyB,MAAhBoB,EAAuBA,EAAeE,EAC/C1C,KAAsB,MAAhBwC,EAAuB,QAAU,YAEzC,kBAAC,EAAD,CAAQnD,WAAYA,EAAYC,iBAjFX,SAACwD,GACxBP,EAAcO,EAAMC,OAAOxD,UAiFzB,yCACA,kBAAC,EAAD,CACEG,UAhFY,SAACoD,GAEjB,GADAA,EAAME,iBACFtC,EAAQuC,MAAK,SAAC3C,GAAD,OAAYA,EAAOC,OAASZ,MAC3C,GACEuD,OAAOC,QAAP,UACKxD,EADL,0EAGA,CACA,IAAMW,EAASI,EAAQ0C,MAAK,SAAC9C,GAAD,OAAYA,EAAOC,OAASZ,KAClD0D,EAAa,2BAAQ/C,GAAR,IAAgBE,OAAQX,IAC3CgD,EACqBQ,EAAcpC,GAAIoC,GACpC5B,MAAK,SAACC,GACLU,EACE1B,EAAQK,KAAI,SAACT,GAAD,OACVA,EAAOW,KAAOoC,EAAcpC,GAAKX,EAASoB,MAG9CiB,EAAkB,aAAD,OACFrC,EAAOC,KADL,+BAGjB+C,YAAW,WACTX,EAAkB,QACjB,QAEJY,OAAM,SAACC,GACNf,EAAgB,mBAAD,OACM9C,EADN,0CAC+CA,EAD/C,qCAGf2D,YAAW,WACTb,EAAgB,QACf,cAKTI,EADqB,CAAEtC,KAAMZ,EAASa,OAAQX,IACL4B,MAAK,SAACC,GAC7CU,EAAW1B,EAAQ+C,OAAO/B,IAC1BW,EAAW,IACXC,EAAa,IACbK,EAAkB,GAAD,OAAIhD,EAAJ,6CACjB2D,YAAW,WACTX,EAAkB,QACjB,SAsCHhD,QAASA,EACTC,cA9FgB,SAACkD,GACrBT,EAAWS,EAAMC,OAAOxD,QA8FpBM,UAAWA,EACXC,gBA5FkB,SAACgD,GACvBR,EAAaQ,EAAMC,OAAOxD,UA6FxB,uCACA,kBAAC,EAAD,CACEmB,QAASA,EACTrB,WAAYA,EACZsB,mBA1CqB,SAACM,EAAIV,GAC1B2C,OAAOC,QAAP,iBAAyB5C,EAAzB,OACFsC,EACgB5B,GACbQ,MAAK,SAACC,GACLU,EAAW1B,EAAQE,QAAO,SAACN,GAAD,OAAYA,EAAOW,KAAOA,MACpD0B,EAAkB,aAAD,OACFpC,EADE,iDAGjB+C,YAAW,WACTX,EAAkB,QACjB,QAEJY,OAAM,SAACC,GACNf,EAAgB,0CAChBa,YAAW,WACTb,EAAgB,QACf,a,MC9FbiB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.515f669c.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ searchName, handleSearchName }) => {\n  return (\n    <div>\n      filter shown with:{\" \"}\n      <input value={searchName} onChange={handleSearchName} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNewName,\n  newNumber,\n  handleNewNumber,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNewName} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNewNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Button = ({ handleClick, text }) => {\n  return <button onClick={handleClick}>{text}</button>;\n};\n\nexport default Button;\n","import React from \"react\";\n\nimport Button from \"./Button\";\n\nconst Persons = ({ persons, searchName, handleDeletePerson }) => {\n  return persons\n    .filter((person) =>\n      person.name.toLowerCase().includes(searchName.toLowerCase())\n    )\n    .map((person) => (\n      <div key={person.id}>\n        <Person person={person} />\n        <Button\n          handleClick={handleDeletePerson.bind(this, person.id, person.name)}\n          text=\"delete\"\n        />\n      </div>\n    ));\n};\n\nconst Person = ({ person }) => (\n  <>\n    {person.name} {person.number}\n  </>\n);\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className={type}>{message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getPhoneBook = () => {\n  return axios.get(baseUrl).then((response) => response.data);\n};\n\nconst addPerson = (personObject) => {\n  return axios.post(baseUrl, personObject).then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  return axios\n    .delete(`${baseUrl}/${id}`)\n    .then((response) => console.log(response));\n};\n\nconst changePhoneNumber = (id, personObject) => {\n  return axios\n    .put(`${baseUrl}/${id}`, personObject)\n    .then((response) => response.data);\n};\n\nexport default { getPhoneBook, addPerson, deletePerson, changePhoneNumber };\n","import React, { useState, useEffect } from \"react\";\n\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport phoneBookService from \"./services/phonebook\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchName, setSearchName] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n\n  useEffect(() => {\n    phoneBookService.getPhoneBook().then((response) => {\n      setPersons(response);\n    });\n  }, []);\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchName = (event) => {\n    setSearchName(event.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    if (persons.some((person) => person.name === newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one`\n        )\n      ) {\n        const person = persons.find((person) => person.name === newName);\n        const changedPerson = { ...person, number: newNumber };\n        phoneBookService\n          .changePhoneNumber(changedPerson.id, changedPerson)\n          .then((response) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== changedPerson.id ? person : response\n              )\n            );\n            setSuccessMessage(\n              `Number of ${person.name} was successfully modified`\n            );\n            setTimeout(() => {\n              setSuccessMessage(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            setErrorMessage(\n              `Phone number of ${newName} could not be modified because ${newName} was already removed from server`\n            );\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 5000);\n          });\n      }\n    } else {\n      const personObject = { name: newName, number: newNumber };\n      phoneBookService.addPerson(personObject).then((response) => {\n        setPersons(persons.concat(response));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setSuccessMessage(`${newName} was successfully added to the phonebook`);\n        setTimeout(() => {\n          setSuccessMessage(null);\n        }, 5000);\n      });\n    }\n  };\n\n  const handleDeletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      phoneBookService\n        .deletePerson(id)\n        .then((response) => {\n          setPersons(persons.filter((person) => person.id !== id));\n          setSuccessMessage(\n            `Number of ${name} was successfully deleted from the phonebook`\n          );\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setErrorMessage(`Person was already removed from server`);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={errorMessage != null ? errorMessage : successMessage}\n        type={errorMessage != null ? \"error\" : \"success\"}\n      />\n      <Filter searchName={searchName} handleSearchName={handleSearchName} />\n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNewName={handleNewName}\n        newNumber={newNumber}\n        handleNewNumber={handleNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        searchName={searchName}\n        handleDeletePerson={handleDeletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}